---
title: "Notionのデータベースで表計算をする方法"
date: 2023-03-06T22:22:18+09:00
description: "Notionのデータベースで様々な表計算を行う方法を解説します"
draft: false
thumbnail:
  src: "https://res.cloudinary.com/dda9f1d6p/image/upload/v1678608473/shirakamo_lab_tech_blog/notion_calculation_demo/thumbnails_notion_calculation_demo_x2i2xo.webp"
categories:
- "データ分析"
tags:
- "Notion"
---

本記事ではNotionで個人的に便利だと思っているデータベース機能、特にデータベース機能で使える表計算に的を絞って使い方を解説します。  
自分は本ブログの簡単な記事の管理をNotionで行っており、その際にちょっとした表計算を入れて管理しやすくしています。  
今回はそのようなブログのアイデアメモページをサンプルとしてデータベースの使い方、表計算の使い方を説明します。

## Notionとは

[Notion](https://www.notion.so/ja-jp "notion") とは基本的には様々な文書を作成、管理するためのウェブアプリです。  
最近では「文書=テキスト」で表現できることは何でもできるのでは？と思うほど多機能なアプリとなっています。  
例えば、

- 日記帳
- TODOリスト管理
- タスク管理、プロジェクト管理

などが挙げられます。  
料金プラン次第では多人数で共同管理することもできるので、仕事で使っているという方もいらっしゃるかもですね。  

最近は [Notion AI](https://www.notion.so/ja-jp/product/ai "notion_ai") というサービスも使えるようになっており、AIによる自動文章生成、自動ページ生成が利用できるようになってきました。  
どんどん便利になっていくので、日記帳のようなシンプルな使い方からでも使ってみてはいかがでしょうか。  

## Notionのデータベース機能

Notionには非常に便利な __[データベース](https://www.notion.so/ja-jp/help/intro-to-databases "notion_db")__ という機能があります。  
Notionのデータベースはその名の通り「様々なテキストを整理しておくためのページ」といったものではあるのですが、その名前からは想像もできないほど多様な機能を持っています。  
例えば、カレンダー上でタスク管理なんてこともできてしまいます。  

ただ、多機能であるが故に「どう使ってよいのか分からない」という声もまわりでちらほら聞きます。  
そこで本記事では __「ブログ記事のアイデアを貯めておくアイデア帳」__ というシンプルなページを題材に自分なりのNotionデータベースの使い方を紹介してみようと思います。  

その際に個人的に便利だと思っている表計算の機能についても紹介していきます。  

## Notionデータベースによるブログアイデア帳作成

さて、ここからは実際にNotionでブログアイデア帳を作成しながらデータベースの使い方などを解説していきます。  

### 1. Notionの利用開始とサンプルページの作成

Notionはウェブアプリなので利用するためにはアカウント作成が必要です。  
アカウント作成からページの作成など基本的な操作については公式ページの解説を参照してください。  

[Notion入門](https://www.notion.so/ja-jp/help/category/new-to-notion "notion_getting_started")  

今回色々いじっていくサンプルページは `ブログネタ帳（デモ）` というタイトルで作成しておきました。

### 2. データベースの作成

Notionでは様々な要素を埋め込みことができます。データベースもその一つです。  
何かしらの要素を埋め込むには `/` を任意の場所で打ち込んでみてください。  
画面上でどの要素を埋め込むかを選択することができます。  

今はデータベースが必要なので `Database - inline` を選択します。  
`/data` まで打ち込めば以下のように一番上に出てくると思います。  

![create_db](https://res.cloudinary.com/dda9f1d6p/image/upload/v1678608302/shirakamo_lab_tech_blog/notion_calculation_demo/create_db_u87vz6.webp "create_db")  

ちなみに `/` ではなくスペースを入力するとNotion AI用の選択画面が表示されます。  

上記にて `Database - inline` を選択すると以下のように表形式のページ要素が作成されます。  

![db_init](https://res.cloudinary.com/dda9f1d6p/image/upload/v1678608302/shirakamo_lab_tech_blog/notion_calculation_demo/db_init_ucwyzr.webp "db_init")  

画像の `Untitle` となっている部分にはデータベースのタイトルを入力できます。  
ここではページのタイトルと同様 `ブログネタ帳` とでもしておきましょう。  

今回は `Database - inline` を選択しましたが、同様にデータベースを作成するには `Database - full page` を用いることもできます。  
`full page` の場合はデータベースのみのページとなり、 `inline` を選んだ場合には別の場所に普通の文章等も書き込める一般的なページとなります。  
今の場合はどちらでも良いですが、個人的には `inline` の方が柔軟でお気に入りです。  

データベースの使い方についてより詳細を知りたいという方は公式の解説を参照ください。  

[データベースの基本](https://www.notion.so/ja-jp/help/intro-to-databases "db_tutorial")  

### 3. ステータスの設定

このデータベースではブログのアイデアを一番左のカラムにメモ的に書いていき、その進行状況を管理することとします。  
そのためにデータベースの列をいじっていきます。Notionではこれら列のことを __プロパティ__ と呼びます。  

先の画像のデータベースの列の上部にある `Name` や `Tag` の部分をクリックすることでプロパティ名やそのタイプ（数字か文字列かなど）を編集することができます。  
今の `Name` となっている部分はデフォルトで文字列なので、プロパティー名を `記事アイデア` とでも変更しておきます。  

`Tag` となっている部分には記事の作成状況（作成前、作成中、公開済の3つ）を入力していきます。  
文字列として普通に打ち込んでも良いのですが、Notionはそのものずばりの `ステータス` というプロパティのタイプがあるのでそちらを利用しましょう。  
`Tag` となっている部分をクリックして、 `Edit property` を選択、`Type` から `Status` を選択します。  

ステータスプロパティはデフォルトでは `Not started`, `In progress`, `Completed` の3つ値を利用できます。  
このままでも良いのですが、この3つを作成前、作成中、公開済の3つに修正します。  
以下の画像のように、先ほどと同様の `Edit property` から各々のタグをクリックすることでタグ名を変更できます。  

![edit_property](https://res.cloudinary.com/dda9f1d6p/image/upload/v1678608303/shirakamo_lab_tech_blog/notion_calculation_demo/edit_status_name_lw4zhi.webp "edit_property")  

名前の変更に限らず、タグの追加や色の変更などもできます。  

### 4. 記事アイデアとステータスを入力していく

本来はこのデータベースを用いて記事アイデアと記事化の進捗状況を逐次管理していきます。  
ただ、今回はデモなので適当に欄を埋めておきます。  
記事アイデアは「映画の紹介」、「マンガの紹介」、「小説の紹介」の3つとして、ステータスは上から「公開済」、「作成中」、「作成前」としておきます。  

Notionの場合、追加したこれら一つ一つが実はページとなっており、クリックして普通のページのように編集することができます。  
より詳細な説明だったり参考URLなどを自由に書き込むことができるのでとても便利です。  
ここがエクセルなどの表計算ソフトと異なる点ですね。  

### 5. ステータスの集計を追加する

Notionのデータベースでは様々な集計、表計算を行うことができます。個人的にはここがNotionデータベースの好きな点です。  
ここでは __全記事数とその中で公開済の記事数を集計する__ ことを目指します。  

といってもこれは非常に簡単にできます。  
以下の画像のように、データベースの下部にある `Calculation` をクリックして `Count per group` → `Complete` を選ぶだけです。  

![define_calculation](https://res.cloudinary.com/dda9f1d6p/image/upload/v1678608303/shirakamo_lab_tech_blog/notion_calculation_demo/define_calculation_l8llle.webp "define_calculation")  

このようにすると、データベースの `ステータス` プロパティの下部に以下の画像のように `公開済の記事数 / 全記事数` の形式で表示されます。  

![result_calculation](https://res.cloudinary.com/dda9f1d6p/image/upload/v1678608303/shirakamo_lab_tech_blog/notion_calculation_demo/result_calculation_fwusin.webp "result_calculation")  

このようにしておくと、今後記事アイデアを追加したりステータスを変更したりすると自動で記事数と公開済みの記事数が分かるので現状を把握しやすいですね。  

`Calculation` はプロパティの種類に応じて異なる計算を選択できるようです。  
単なる数値であれば平均や和を出せるようですね。  
今後も色々試していきたいです。

### 6. （おまけ）関数を利用する

ここまでで「ブログ記事のアイデアを管理する」という目標は達成です。  
ここからはおまけとしてNotionデータベースの関数機能の使い方を解説していきます。  

Notionのデータベースでは関数によって様々な演算（表計算）を行うことができます。  
とはいえ、やはり表計算機能はエクセルなどの方が便利ではありますね。  
あくまで __簡単な計算結果を表に埋め込む__ といった用途で使うのが主なユースケースとなりそうです。  

ここでは「ステータスに応じて異なる値を取る列」を作成することを目指します。  
具体的には、  

- `ステータス = 作成前` なら -1
- `ステータス = 作成中` なら 0
- `ステータス = 公開済` なら 1

となる `スコア` という列（プロパティ）を作成します。  
あまり実用的な例ではないですが...あくまでデモということで。  

まずはデータベースにプロパティを追加しましょう。  
データベース上部の `+` をクリックすることでどのようなプロパティを追加するか決定できます。  
プロパティは沢山あるので、以下の図のように空欄に `formula` と打ち込んで `Formula` プロパティを選択します。  

![add_formula](https://res.cloudinary.com/dda9f1d6p/image/upload/v1678608302/shirakamo_lab_tech_blog/notion_calculation_demo/add_formula_a0mkrz.webp "add_formula")  

これで `Formula` プロパティを追加できました。  
それでは計算式を記述していきます。  
`Formula` プロパティの空欄をクリックすると計算式を入力する画面が表示されるので、以下のように入力してみましょう。  

```bash
if(prop("ステータス") == "公開済", 1, if(prop("ステータス") == "作成中", 0, -1))
```

`if` のような条件分岐なども実現できるので、ちょっとしたプログラミング言語ですね。  
関数の詳細な説明については以下の記事で全関数を解説して下さっているのでそちらを参照してください。  

[NOTIONの関数（FORMULA）一覧と使い方](https://shknote.com/formulas/ "notion_functions")

このように設定すると以下の図のようにステータスに応じた値を設定できます。  

![result_formula](https://res.cloudinary.com/dda9f1d6p/image/upload/v1678608303/shirakamo_lab_tech_blog/notion_calculation_demo/result_formula_xst7f6.webp "result_formula")  

画像では記事数と同様に `Calculation` で `Sum` (つまり和) を設定しています。  
数値が大きいほど公開済みの記事が大きいということで、ちょっとはモチベーションにつながるかも...？  

今回の例とは異なりますが、株などのトレードを行ってらっしゃる方であればトレードの記録に利用できるかもしれませんね。

## まとめ

本記事ではNotionデータベースで簡単な表計算を行う例を示しました。  
Notionデータベースを用いることで様々な情報をまとめつつ管理用の指標を算出することができます。  
自分はこのような自由度の高い設定ができるのがNotionの魅力だと思っています。  

今回はNotionの数多くの機能のうちほんの一部を紹介したにすぎません。  
今後も面白い使い方などあれば紹介していきたいと思います。
